!function(){var a=angular.module("wordpressContent",["ngTouch","ngAnimate","ngCookies","ngSanitize","ui.router","wordpressContent.post.service","wordpressContent.utilities.service","wordpressContent.comment.service","wordpressContent.comment.directives","wordpressContent.post.directives","wordpressContent.postMenu.directives","wordpressContent.topbar.directives","wordpressContent.asides.directives"]),b=red_eye_theme_path.theme_path+"/angular/partials/",c=red_eye_theme_path.theme_path+"/angular/directives/";a.run(["$rootScope","$state","$stateParams","$http","$templateCache",function(a,d,e,f,g){a.$state=d,a.$stateParams=e,a.primaryColor="#990000",a.smallSideBarActivated=!1,f.get(b+"home.html",{cache:g}),f.get(b+"home-index.html",{cache:g}),f.get(b+"blog.html",{cache:g}),f.get(b+"blog-404.html",{cache:g}),f.get(b+"blog-article.html",{cache:g}),f.get(b+"blog-page.html",{cache:g}),f.get(c+"topbar-template.html",{cache:g}),f.get(c+"topbar-home.html",{cache:g}),f.get(c+"post-template.html",{cache:g}),f.get(c+"post-menu-small.html",{cache:g}),f.get(c+"aside-sidebar-template.html",{cache:g})}]),a.config(["$urlMatcherFactoryProvider","$stateProvider","$locationProvider","$urlRouterProvider","$anchorScrollProvider",function(a,d,e,f,g){e.html5Mode(!0),a.strictMode(!1),f.rule(function(a,b){var c=b.url();return"/"===c[c.length-1]?c.replace(/\/$/,""):c.indexOf("/?")>0?c.replace("/?","?"):!1}),d.state("customizer",{url:"/wp-admin/:param",controller:["$state",function(a){a.go("blog.home.index")}]}),d.state("blog",{templateUrl:b+"site.html","abstract":!0,resolve:{posts:["posts",function(a){return a.all()}],siteInfo:["siteData",function(a){return a.getSiteInfo()}],pages:["siteData",function(a){return a.getPages()}],categories:["siteData",function(a){return a.getCategories()}]},controller:["$scope","$state","posts","categories","siteInfo","pages","utilities","$window","$rootScope","$filter","$templateCache",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){function b(a){for(var b=0;b<p.length;b++)if(a.cat_ID===p[b].cat_ID)return!0;return!1}for(var c=a.category_data,d="",e=0;e<c.length;e++)b(c[e])||p.push(c[e]),e!==c.length-1?d=d+c[e].name+", ":d+=c[e].name;return d}function m(a){var b=a.content.rendered.length/5,c=b/300;return 1.5>=c?"1 minute":Math.round(c).toString()+" minutes"}function n(){a.pageWidth=s;var b=a.pageWidthCategory;s>=801?a.pageWidthCategory=3:a.pageWidthCategory=1,a.pageWidthCategory!==b&&g.notifyPageWidthCategoryChange()}var o=window.location.pathname.slice();o=o.slice(1,o.length),a.posts=c;for(var p=[],q=0;q<a.posts.length;q++){var r=a.posts[q];r.indexID=q,r.readingTime=m(r),r.categoriesString=l(r),a.posts[q]=r}a.categories=p,a.siteInfo=e,i.siteTitle=a.siteInfo.name,window.parent.document.getElementById("customize-preview")&&wp.customize("blogname",function(a){a.bind(function(a){i.siteTitle=a,i.$apply()})}),a.pages=f,a.pageWidthCategory=0,a.pageWidth=0,a.smallPostMenu={},a.largePostMenu={};var s=h.innerWidth,t=angular.element(h);n(),t.bind("resize",function(){s=h.innerWidth,n(),g.notifyPageWidthChange()}),1===a.pageWidthCategory?(a.smallPostMenu.visible=!1,a.largePostMenu.visible=!0):(a.smallPostMenu.visible=!0,a.largePostMenu.visible=!1)}]}).state("blog.home",{"abstract":!0,templateUrl:b+"home.html",controller:["$scope","$state","utilities","$window","$rootScope","$templateCache","$timeout",function(a,b,c,d,e,f,g){function h(){var a=angular.element("#top-bar-home"),b=window.innerHeight,c=a.height(),d=4*(b-c),e=-d/2+c;i.css("height",d),i.css("top",e)}a.post=c.findBySlug(a.posts,c.getLatestSlug(a.posts)),a.smallPostMenu.visible=!1,a.largePostMenu.visible=!0,e.resourceTitle="",e.smallSideBarActivated=!1,a.fireHomepageFadeIn=!1,a.fireHomepageScrollDown=!1;var i=angular.element("#sub-page-animation-wrapper");a.$on("pageWidthChangeEvent",function(){h()}),g(function(){g(function(){a.fireHomepageFadeIn=!0,a.$apply(),a.$broadcast("scrollDownAnimationEvent")},0)},0),a.$on("postTransitionEvent",function(){a.fireHomepageFadeIn=!1}),a.animationInProgress=!1;var j=void 0;a.$on("homeScrollDownEvent",function(){h(),g(function(){g(function(){a.animationInProgress=!0,void 0!=j&&g.cancel(j),a.fireHomepageScrollDown===!0&&(a.fireHomepageScrollDown=!1,a.$apply()),g(function(){a.fireHomepageScrollDown=!0,a.$apply(),a.$broadcast("scrollDownAnimationEvent")},20);var b=g(function(){a.animationInProgress=!1,a.$apply()},2e3);j=b,g(function(){a.animationInProgress||(a.fireHomepageScrollDown=!1)},2010)},0)},0)}),a.goToPage=function(c){g(function(){g(function(){a.fireHomepageScrollDown=!0,a.$apply()},0)},0),b.go("blog.home.page",{pageSlug:c})},window.scrollTo(0,0)}]}).state("blog.home.index",{url:"",templateUrl:b+"home-index.html",controller:["$scope","$templateCache",function(a,d){function e(){for(var b=0;b<a.pages.length;b++)a.pages[b].active=!1}function f(){d.put(b+"blog-article.html"),d.put(b+"blog.html"),d.put(b+"home-index.html"),d.put(b+"blog-page.html"),d.put(c+"post-template.html"),d.put(c+"post-menu-small.html"),d.put(c+"topbar-template.html")}e(),f()}]}).state("blog.resource",{controller:["$scope","utilities","$state","$stateParams","$rootScope","$timeout",function(a,b,c,d,e,f){function g(c){return a.post=b.findBySlug(a.posts,i),null!==a.post?!0:!1}function h(c){return a.page=b.findBySlug(a.pages,i),null!==a.page?!0:!1}var i=window.location.pathname.slice();i=i.slice(1,i.length),g(i)?c.go("blog.posts.post",{postSlug:d.resourceSlug}):h(i)?c.transitionTo("blog.resource.page"):"wp-admin"===i?c.go("blog.home"):c.go("blog.404")}]}).state("blog.home.page",{templateUrl:b+"blog-page.html",url:"/:pageSlug",controller:["$scope","$stateParams","utilities","$rootScope","$timeout",function(a,b,c,d,e){function f(){for(var b=0;b<a.pages.length;b++)a.pages[b].active=!1}a.page=c.findBySlug(a.pages,b.pageSlug),f(),a.page.active=!0,d.resourceTitle=" | "+a.page.title.rendered,d.smallSideBarActivated=!1;var g=angular.element("#page-content");e(function(){g.addClass("visible")},100)}]}).state("blog.404",{templateUrl:b+"blog-404.html",controller:["$scope","$stateParams","utilities","$rootScope",function(a,b,c,d){d.resourceTitle="Page Not Found",d.smallSideBarActivated=!1}]}).state("blog.posts",{"abstract":!0,templateUrl:b+"blog.html",controller:["$scope","$stateParams","utilities","$window","$rootScope","$timeout",function(a,b,c,d,e,f){function g(b){1===a.pageWidthCategory?(a.smallPostMenu.visible=!1,a.largePostMenu.visible=!1):(a.smallPostMenu.visible=!0,a.largePostMenu.visible=!1),b&&a.$apply()}g(!1),a.$on("pageWidthCategoryChange",function(){g(!0)}),a.$on("activePostChangeEvent",function(b,c){a.posts.active=-1,f(function(){a.posts.active=c},500)}),a.firePostFadeIn=!1,a.firePostScrollDown=!1,a.$on("postAnimationEvent",function(b,c){a.animationStyle=c,"scrollDown"===a.animationStyle&&(a.firePostScrollDown=!0,a.firePostFadeIn=!1),"fadeIn"===a.animationStyle&&f(function(){f(function(){a.firePostFadeIn=!0,a.firePostScrollDown=!1,a.$apply()},0)},0)}),a.$on("homeTransitionEvent",function(){a.firePostFadeIn===!0?f(function(){f(function(){a.firePostFadeIn=!1,a.$apply()},0)},0):a.firePostFadeIn===!1&&(f(function(){f(function(){a.firePostFadeIn=!0,a.firePostScrollDown=!1,a.$apply()},0)},0),f(function(){f(function(){a.firePostFadeIn=!1,a.$apply()},10)},0))})}]}).state("blog.posts.post",{url:"/blog/:postSlug",templateUrl:b+"blog-article.html",params:{animationStyle:"fadeIn"},controller:["$scope","$stateParams","utilities","$window","$rootScope",function(a,b,c,d,e){a.post=c.findBySlug(a.posts,b.postSlug),a.animationStyle="fadeIn",a.animationStyle=b.animationStyle,a.$emit("postAnimationEvent",a.animationStyle),e.resourceTitle=" | "+a.post.title.rendered,a.$emit("activePostChangeEvent",a.post.id)}]})}])}(),angular.module("wordpressContent.asides.directives",[]).directive("compile",["$compile",function(a){return function(b,c,d){c.html(b.$eval(d.compile)),a(c.contents())(b)}}]).directive("bcAside",[function(){return{restrict:"EA",controller:["$scope",function(a){}],controllerAs:"bcAsideCtrl",link:function(a,b,c,d){var e={};if(void 0!=a.post){e.id=a.post.asides.length+1,e.content=b.html(),a.post.asides.push(e);var f='<sup class="aside-superscript">'+e.id+"</sup>";b[0].outerHTML=f}}}}]).directive("bcAsideSidebar",["$window","$rootScope",function(a,b){var c=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",scope:{post:"="},templateUrl:c+"aside-sidebar-template.html",controller:["$scope",function(a){}],link:function(b,c,d){function e(){var a=c.find("p");g(a);var b=c.parent().find("sup");j=[];for(var d=0;d<b.length;d++)angular.element(b[d]).hasClass("aside-superscript")&&j.push(angular.element(b[d]));for(var d=0;d<a.length;d++){var e=angular.element(a[d]),h=j[d];e.yPosition=h.position().top+50,f(e),e.css("top",e.yPosition+"px")}}function f(a){for(var b=c.find("p"),d=0;d<b.length;d++){var e={};e=a,e.begin=e.yPosition,e.end=e.begin+e.height();var g={};g=angular.element(b[d]),g.begin=g.position().top,g.end=g.begin+g.height(),e.begin<g.end&&e.end>g.begin&&(a.yPosition=g.end+10,f(a))}}function g(a){for(var b=0;b<a.length;b++){var c=angular.element(a[b]);c.yPosition=100,c.css("top",c.yPosition+"px")}}var h=b.$watch("scope.post.asides",function(){for(var a=b.post.asides,d=0;d<a.length;d++){var f='<p class="aside"><b>'+a[d].id+"</b> "+a[d].content+"</p>";c.append(f)}a.length<1&&b.$emit("noAsidesEvent"),e(),h()}),i=angular.element(a);i.bind("resize",function(){e()}),b.showNotesLabel=!1,angular.element(window).bind("scroll",function(a){var c=document.body.scrollTop;c>=150&&j.length>0?b.showNotesLabel===!1&&(b.showNotesLabel=!0,b.$apply()):b.showNotesLabel===!0&&(b.showNotesLabel=!1,b.$apply())}),b.hasNotes=function(){};var j=[]}}}]).directive("bcAsides",["$window","$compile","$sce","utilities","$rootScope","$timeout",function(a,b,c,d,e,f){return{restrict:"A",scope:{post:"="},controller:["$scope","$element",function(a,b){a.post.asides=[],a.post.activeModal=0}],link:function(c,d,g,h){function i(){l=c.post.activeMenu,k=a.innerWidth,801>k?c.decoratedAsides=!0:l?c.decoratedAsides=!0:c.decoratedAsides=!1}function j(){for(var a=d.parent().find("sup"),e=0;e<a.length;e++)angular.element(a[e]).hasClass("aside-superscript")||a.splice(e,1);for(var f=d.parent().find("article"),e=0;e<a.length;e++){var g={};g=d.parent().find("article").html();var h=angular.element(a[e]),i=e+1,j=g.indexOf(h[0].outerHTML),k=g.lastIndexOf(" ",j)+1,l=g.slice(k,j),m="<span class='aside-link' ng-class='{active: decoratedAsides}' ng-click='handleAsideClick("+i+")'>"+l+"</span>",n=g.slice(0,k),o=g.slice(k+l.length,g.length),p=n+m+o;f.empty().append(p)}for(var q=f.find("span"),e=0;e<q.length;e++)angular.element(q[e]).hasClass("aside-link")||q.splice(e,1);for(var e=0;e<q.length;e++)angular.element(q[e]).hasClass("aside-link")?b(angular.element(q[e]))(c):q.splice(e)}var k=a.innerWidth,l=!1;c.decoratedAsides=!1,f(function(){f(function(){j(),i()},0)},0),c.$watch("post.activeMenu",function(){i()}),c.$on("pageWidthChangeEvent",function(){1===c.post.pageWidthCategory?c.decoratedAsides=!0:i(),c.$apply()}),c.handleAsideClick=function(b){k=a.innerWidth,l=c.post.activeMenu,801>k?e.$broadcast("modalActivationEvent",b):c.$emit("widescreenAsideClickEvent")}}}}]).directive("bcAsideModals",["$compile",function(a){var b=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",templateUrl:b+"modal-template.html",controller:["$scope",function(a){a.showThis=!1}],link:function(a,b,c,d){function e(b){a.post.activeModal=b,a.showThis=!0,a.asideNumber=b,a.asideContent=a.post.asides[b-1].content}b.parent().find("article").html();a.$on("pageWidthChangeEvent",function(){}),a.$on("modalActivationEvent",function(a,b){e(b)})}}}]),angular.module("wordpressContent.comment.directives",["wordpressContent.comment.service"]).directive("validateEmail",function(){var a=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;return{require:"ngModel",restrict:"",link:function(b,c,d,e){e&&e.$validators.email&&(e.$validators.email=function(b){return e.$isEmpty(b)||a.test(b)})}}}).directive("bcCommentForm",["$interval","$sce","commentService","$cookies",function(a,b,c,d){var e=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",require:"^bcComments",scope:{comment:"=",form:"="},templateUrl:e+"comment-form-template.html",link:function(a,b,c,e){function f(){function b(){a.submission.content=""}d.name=a.submission.name,d.email=a.submission.email;var c={};c.message="test",a.form.newCommentFormVisibility=!1;var f={};f.isLoading=!0,f.date=new Date,f.date=f.date.toISOString(),f.content=a.submission.content,a.content="Comment...",f.author={},f.author_name=a.submission.name,f.author.email=a.submission.email;var g=a.comment;return 0==g.exists?(e.addNewComment(f),void b()):g.exists?(e.addNewReply(f,g),void b()):g.isBeingEdited?(e.edit(parentCommeent,f),void b()):void b()}a.submission={},a.submission.cacheLoaded=!1,a.submission.valid=!1;var g=d.name,h=d.email;null!=h&&null!=g&&(a.submission.name=g,a.submission.email=h,a.submission.cacheLoaded=!0),a.submit=function(){f()},a.cancel=function(){a.form.newCommentFormVisibility=!1}}}}]).directive("bcComment",["RecursionHelper",function(a){var b=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",scope:{comment:"=",post:"="},compile:function(b){return a.compile(b)},controller:["$scope",function(a){a.comment.exists=!0,a.form={},a.form.newCommentFormVisibility=!1}],templateUrl:b+"single-comment-template.html"}}]).directive("bcComments",["$sce","$interval","commentService",function(a,b,c){var d=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",scope:{post:"=",comments:"="},templateUrl:d+"comments-template.html",controller:["$scope","$sce","$interval","commentService",function(a,b,c,d){function e(a,b){a.success=!1,c(function(){d.submitNewComment(a,b).then(function(b){a.ID=b.data.ID,201!=b.status?a.statusMessage="Error: Unable to submit comment":"hold"===b.data.status?a.statusMessage="Under Review":(a.statusMessage="Submission successful",a.success=!0),a.isLoading=!1},function(){a.statusMessage="Error: Unable to submit comment",a.isLoading=!1})},2e3,1)}function f(){d.findByPostId(a.post.id).then(function(c){var e=d.updateRelationalReferences(c.data);a.comments.length=e.length,a.$emit("loadedCommentsEvent",e.length);for(var f=0;f<e.length;f++)e[f].safeContent=b.trustAsHtml(e[f].content.rendered),e[f].isReply||(-1==e[f].author.ID?g.push(e[f]):h.push(e[f]));a.post.userComments=g,a.post.otherComments=h,a.comment={},a.comment.exists=!1})}"closed"===a.post.comment_status?(a.post.commentStatus="Comments are closed for this article.",a.post.openComments=!1):(a.post.commentStatus="",a.post.openComments=!0);var g=[],h=[];f(),this.addNewComment=function(b){b.parent={},b.parent.ID=0,b.descendants=[],b.statusMessage="";var c=b.content;c="<p>"+c.replace(/\n([ \t]*\n)+/g,"</p><p>"),b.safeContent=c,a.post.otherComments.push(b),b.statusMessage="Submitting...",e(b,a.post.id)},this.addNewReply=function(b,c){b.descendants=[],b.statusMessage="";var d=b.content;d="<p>"+d.replace(/\n([ \t]*\n)+/g,"</p><p>"),b.safeContent=d,b.parent=c,c.descendants.push(b),b.isReply=!0,b.statusMessage="Submitting...",e(b,a.post.id)}}],link:function(a,b,c,d){a.showAddCommentForm=function(){a.form={},a.form.newCommentFormVisibility=!0},a.user={},a.user.name="Placeholder"}}}]),angular.module("wordpressContent.post.directives",[]).directive("bcPost",["$window","$state","utilities","$location","$rootScope","$timeout",function(a,b,c,d,e,f){var g=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"EA",templateUrl:g+"post-template.html",controller:["$scope","$sce",function(a,b){this.updateSafeContent=function(a){},this.expandSidebar=function(){}}],link:function(c,g,h,i){function j(a){m.hasClass("block-transition")&&m.removeClass("block-transition"),a===!1&&1!==l?(p.css("opacity",100),r?n.css("transform","translateX(-100px)"):n.css("transform","translateX(0px)")):(p.css("opacity",0),n.css("transform","translateX(100px)"))}function k(a){1===l?(n.css("transform","translateX(0px)"),m.css("margin-right","0px"),m.css("margin-left","0px")):1!==l&&j(s)}c.comments={},c.comments.visible=!1,c.post.activeMenu=!1,c.post.socialSharingVisible=!1;var l=c.pageWidthCategory,m=angular.element(g.children()[0]),n=angular.element(m.find("div")[0]),o=angular.element(g.parent().parent().parent().find("bc-post-menu-small").find("div")[0]),p=(angular.element(o.find("div")[1]),angular.element(g.find("bc-aside-sidebar"))),q=angular.element(g.children()[5]),r=(angular.element(a),window.pageYOffset,!0),s=!1;c.$on("menuPositionRequestResponse",function(a,b){s=!b,j(s)}),e.$broadcast("menuPositionRequest"),c.$on("noAsidesEvent",function(){if(r=!1,!s&&1!==l){n.css("transform","translateX(0px)");var a=angular.element("#notes-label-bufffer");a.css("opacity",0)}}),c.$on("reloadPostEvent",function(a,c){b.go(b.current,{postSlug:c})}),k(!0),f(function(){f(function(){m.addClass("block-transition"),m.addClass("visible"),"scrollDown"===c.animationStyle&&q.addClass("active")},0)},0),f(function(){q.css("display","none")},1e3),"fadeIn"===c.animationStyle&&q.css("display","none");var t=angular.element(g.find("article")).height(),u=window.innerHeight;u>t?e.shortArticle=!0:e.shortArticle=!1,e.$broadcast("postLoadEvent",c.post),c.toggleSideBar=function(){e.$broadcast("footerMenuToggleEvent")},c.hasNotes=function(){},c.$on("topbarCommentsClickEvent",function(){c.openComments()}),c.openComments=function(){c.$emit("openCommentsEvent"),c.comments.visible=!c.comments.visible},c.nextArticle=function(){var a=c.post.indexID,b=c.posts[a+1];null!==b&&d.path(b.slug)},c.showSocialSharingOptions=function(){c.post.socialSharingVisible=!c.post.socialSharingVisible},c.socialShare=function(a){var b=void 0!==window.screenLeft?window.screenLeft:screen.left,c=void 0!==window.screenTop?window.screenTop:screen.top,d=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,e=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,f=d/2-290+b,g=e/3-470/3+c,h=window.location;if("facebook"===a){var i=window.open("https://www.facebook.com/sharer/sharer.php?u="+h,"title","width=580, height=470, top="+g+", left="+f);i.focus()}else if("twitter"===a){var i=window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(h),"title","width=550, height=420, top="+g+", left="+f);i.focus()}else if("linkedin"===a){var i=window.open("https://linkedin.com/shareArticle?url="+encodeURIComponent(h)+"&mini=true","title","width=550, height=420, top="+g+", left="+f);i.focus()}else if("googleplus"===a){var i=window.open("https://plus.google.com/share?url="+encodeURIComponent(h),"title","width=550, height=420, top="+g+", left="+f);i.focus()}},c.$watch("postAndMenu.menu.toggle",function(){}),c.$on("pageWidthChangeEvent",function(){l=c.pageWidthCategory,c.post.pageWidthCategory=c.pageWidthCategory,k(!1)}),c.$on("smallMenuToggleEvent",function(a,b){j(!b),s=!b,k(!1),c.post.activeMenu=s}),c.$on("widescreenAsideClickEvent",function(){j(!1),s=!1,c.post.activeMenu=s,c.toggleSidebar()})}}}]).directive("bcPostAndMenu",["$window","$state","utilities","$rootScope",function(a,b,c,d){var e=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"EA",templateUrl:e+"post-and-menu-template.html",controller:["$scope","$sce",function(a,b){a.postAndMenu={},a.postAndMenu.menu={},a.postAndMenu.post={},this.updateMenuToggle=function(b,c){a.postAndMenu.menu.toggle=b,a.postAndMenu.menu.userActivated=c},this.toggleMenuButton=function(b){a.postAndMenu.menu.showButton=b},this.updatePostScroll=function(b){a.postAndMenu.post.scroll=b,a.$apply()}}],link:function(a,b,c,e){d.smallSideBarActivated||d.shortArticle?a.postAndMenu.menu.showButton=!0:a.postAndMenu.menu.showButton=!1,angular.element(window).bind("scroll",function(){var b=document.body.scrollTop;b>=150?a.postAndMenu.menu.showButton===!1&&(a.postAndMenu.menu.showButton=!0,a.$apply()):150>b&&!d.shortArticle&&a.postAndMenu.menu.showButton===!0&&(a.postAndMenu.menu.toggle||d.smallSideBarActivated||(a.postAndMenu.menu.showButton=!1,a.$apply()))})}}}]),angular.module("wordpressContent.postMenu.directives",[]).directive("bcPostMenuLarge",["$sce","$timeout","$location","$state",function(a,b,c,d){var e=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",templateUrl:e+"post-menu-large.html",controller:["$scope",function(a){a.menu={},a.menu.showSearch=!0}],link:function(a,c,e){function f(a){var b=angular.element(a.currentTarget),c=a.pageX-b.offset().left,d=a.pageY-b.offset().top,e=parseInt(c),f=parseInt(d);b.find("svg").remove(),b.append('<svg><circle cx="'+e+'" cy="'+f+'" r="0"></circle></svg>');var g=b.find("circle");g.animate({r:b.outerWidth()},{easing:"linear",duration:500,step:function(a){g.attr("r",a)}})}function g(){l.removeClass("locked"),o.css("padding-top","initial"),r=l.offset().top,angular.element(window).bind("scroll",function(){h()})}function h(){p=window.pageYOffset,p>=r?(l.addClass("locked"),o.css("padding-top","44px")):(o.css("padding-top","initial"),l.removeClass("locked"))}function i(){var b=k;if(-1===b)return void(a.selectedCategory="All Posts");for(var c=a.categories,d=0;d<c.length;d++)if(c[d].cat_ID===k)return void(a.selectedCategory=c[d].name)}function j(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}var k=-1;a.selectedCategory="",a.listVisible=!1,i(),a.goToPost=function(c,e){f(e),a.$emit("postTransitionEvent"),b(function(){d.go("blog.posts.post",{postSlug:c,animationStyle:"fadeIn"})},500)};var l=c.find("div").find("div").find("div"),m=l.find("div"),n=m.find("div"),o=c.find("div").find("div"),p=document.body.scrollTop,q={},r=0,s=0;a.$on("scrollDownAnimationEvent",function(){b(function(){b(function(){var a=c.find("div");a.hasClass("active")||a.addClass("visible")},0)},0)}),b(function(){var a=c.find("div");a.hasClass("active")||a.addClass("visible")},500),b(function(){b(function(){for(var a=0;a<c.find("ul").length;a++){var b=angular.element(c.find("ul")[a]);b.hasClass("wide-category-list")&&(q=b,s=b.height())}s>25&&(q.css("display","none"),n.css("display","inline")),g()},0)},0),a.$on("pageWidthChangeEvent",function(){g(),h()}),a.selectCategory=function(b){p>=r&&window.scrollTo(0,r),k=b,i(),a.listVisible=!1},a.postHasCurrentCategory=function(a){if(-1===k)return!0;for(var b=0;b<a.length;b++)if(a[b].cat_ID===k)return!0;return!1},a.isActiveClass=function(a){return k===a?!0:!1};var t=c.find("input");a.showSearch=function(){a.menu.showSearch=!0,b(function(){t[0].focus()},0)},a.search="";var u;a.$watch("search",function(a){u=new RegExp("\\b"+j(a),"i")}),a.filterBySearch=function(b){return p>=250&&a.search&&window.scrollTo(0,r),a.search?u.test(b.title.rendered):!0}}}}]).directive("bcPostMenuSmall",["utilities","$rootScope","$location","$state","$timeout",function(a,b,c,d,e){var f=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",templateUrl:f+"post-menu-small.html",controller:["$scope",function(a){a.leftPosition=0,a.selectedCategory="All Posts",a.selectedCategoryId=-1,a.showCategoryList=!1,a.smallMenuToggle=!0,this.moveMenu=function(b){a.leftPosition=b}}],link:function(a,c,f,g){function h(a){var b=angular.element(a.currentTarget),c=a.pageX-b.offset().left,d=a.pageY-b.offset().top,e=parseInt(c),f=parseInt(d);b.find("svg").remove(),b.append('<svg><circle cx="'+e+'" cy="'+f+'" r="0"></circle></svg>');var g=b.find("circle");g.animate({r:b.outerWidth()},{easing:"linear",duration:500,step:function(a){g.attr("r",a)}})}function i(b){k.css("transform","translateX("+a.leftPosition+"px)")}var j=g,k=angular.element(c.find("div")[0]);k.addClass("block-transition"),a.$on("menuPositionRequest",function(){b.$broadcast("menuPositionRequestResponse",a.smallMenuToggle)}),a.selectCategory=function(b){-1===b?(a.selectedCategoryId=-1,a.selectedCategory="All Categories"):(a.selectedCategoryId=b.term_id,a.selectedCategory=b.name),a.showCategoryList=!1},a.postHasCurrentCategory=function(b){if(-1===a.selectedCategoryId)return!0;for(var c=0;c<b.length;c++)if(b[c].cat_ID===a.selectedCategoryId)return!0;return!1},a.goToPost=function(c,f){h(f),e(function(){var a=angular.element(f.currentTarget).find("svg");a.remove()},500),d.go("blog.posts.post",{postSlug:c,animationStyle:"scrollDown"}),e(function(){b.$broadcast("smallMenuToggleEvent",a.smallMenuToggle)},0)},a.$on("footerMenuToggleEvent",function(){a.toggleSidebar()}),a.toggleSidebar=function(){k.hasClass("block-transition")&&k.removeClass("block-transition"),b.smallSideBarActivated=!0;var c=a.smallMenuToggle;c?j.moveMenu(200):j.moveMenu(0),a.userActivated=!0,i(),a.smallMenuToggle=!c,b.$broadcast("smallMenuToggleEvent",a.smallMenuToggle),a.showCategoryList=!1}}}}]),angular.module("wordpressContent.topbar.directives",[]).directive("bcTopbar",["$sce","$window","$state","$rootScope","$timeout",function(a,b,c,d,e){var f=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",templateUrl:f+"topbar-template.html",link:function(a,f,g,h){function i(){l=window.innerWidth,angular.element(k).css("width",l-160+"px")}a.goToMenu=function(){c.go("blog.menu")},a.goToHome=function(){a.$emit("homeTransitionEvent"),e(function(){c.go("blog.home.index")},260)},a.openComments=function(){d.$broadcast("topbarCommentsClickEvent")},a.topBar={},a.topBar.visible=!1,a.comments={},a.comments.visible=!1,a.$on("loadedCommentsEvent",function(b,c){a.comments.length=c}),angular.element(window).bind("scroll",function(){var b=window.pageYOffset;b>=150?a.topBar.visible===!1&&(a.topBar.visible=!0,a.$apply()):a.topBar.visible===!0&&(a.topBar.visible=!1,a.$apply())}),a.$on("postLoadEvent",function(b,c){a.post=c});var j=angular.element(b),k=f.find("div").find("div").get(1),l=b.innerWidth;i(),j.bind("resize",function(){i()}),a.comments={},a.comments.length=0,a.comments.visible=!1,a.commentCount=0;angular.element(f[0].querySelector(".fi-page-multiple")),angular.element(f[0].querySelector("#comment-icon-wrapper"))}}}]).directive("bcTopbarHome",["$sce","$window","$state","$location","$timeout",function(a,b,c,d,e){var f=red_eye_theme_path.theme_path+"/angular/directives/";return{restrict:"E",templateUrl:f+"topbar-home.html",link:function(a,b,d,g){a.goToMenu=function(){c.go("blog.menu")},a.goToHome=function(){a.$emit("homeScrollDownEvent"),c.go("blog.home.index")},a.toggleMobilePageList=function(){a.mobilePageList.visible=!a.mobilePageList.visible},a.goToPage=function(b){a.$emit("homeScrollDownEvent"),c.go("blog.home.page",{pageSlug:b})},a.directivesPath=f,a.comments={},a.comments.length=0,a.comments.visible=!1,a.commentCount=0,a.mobilePageList={},a.mobilePageList.visible=!1;angular.element(b[0].querySelector(".fi-page-multiple")),angular.element(b[0].querySelector("#comment-icon-wrapper"));e(function(){},1),b.find("div").addClass("visible")}}}]),angular.module("wordpressContent.comment.service",[]).factory("commentService",["$http","$filter",function(a,b){return{findByPostId:function(b){var c="wp-json/wp/v2/comments?post_id="+b+"&per_page=99999";return a.get(c)},submitNewComment:function(b,c){function d(a,b){var c={};c.post=b,c.content=a.content,c.author=0,c.author_name=a.author_name,c.author_email=a.author.email,c.parent=a.parent.id,c.date=a.date,c.type=null;var d=JSON.stringify(c);return d}var e="wp-json/wp/v2/comments",f=d(b,c);return a.post(e,f)},updateRelationalReferences:function(a){function b(a,b){for(var c=0;c<b.length;c++)if(a==b[c].id)return b[c]}function c(a,b){b.descendants.push(a)}for(var d=[],e=0;e<a.length;e++)a[e].descendants=[],a[e].isReply=!1;for(var e=0;e<a.length;e++){var f=a[e];0!=f.parent?(f.isReply=!0,f.parent=b(f.parent,a),c(f,f.parent)):(f.parent={},f.parent.id=0),d.push(f)}return d}}}]).factory("RecursionHelper",["$compile",function(a){return{compile:function(b,c){angular.isFunction(c)&&(c={post:c});var d,e=b.contents().remove();return{pre:c&&c.pre?c.pre:null,post:function(b,f){b.comment.showAddReplyForm=function(){b.form.newCommentFormVisibility=!0},d||(d=a(e)),d(b,function(a){f.append(a)}),c&&c.post&&c.post.apply(null,arguments)}}}}}]),angular.module("wordpressContent.post.service",[]).factory("posts",["$http","$filter","utilities",function(a,b,c){var d="wp-json/wp/v2/posts?per_page=9",e=a.get(d).then(function(a){var c=a.data,d=b("orderBy")(c,"date",!0);return d}),f={};return f.all=function(){return e},f.get=function(a){return e.then(function(){return utils.findBySlug(e,a)})},f}]).factory("siteData",["$http","$filter",function(a,b){var c="wp-json",d="wp-json/wp/v2/pages",e="wp-json/wp/v2/terms/category?per_page=999",f=a.get(c).then(function(a){var b=a.data;return b}),g=a.get(d).then(function(a){var b=a.data;return b}),h=a.get(e).then(function(a){var b=a.data;return b}),i={};return i.getSiteInfo=function(){return f},i.getPages=function(){return g},i.getCategories=function(){return h},i}]),angular.module("wordpressContent.utilities.service",[]).factory("utilities",["$rootScope",function(a){return{findBySlug:function(a,b){for(var c=0;c<a.length;c++)if(a[c].slug==b)return a[c];return null},getLatestSlug:function(a){return a[0].slug},notifyPageWidthChange:function(){a.$broadcast("pageWidthChangeEvent")},notifyPageWidthCategoryChange:function(){a.$broadcast("pageWidthCategoryChange")},notifyAsidesLoaded:function(b){a.$broadcast("asidesLoadedEvent",b)}}}]);